# SteamDeck Refresh Rate Unlocker
Этот репозиторий содержит инструкции и скрипты по разблокировке Steam Deck под SteamOS для использования частоты обновления дисплея до 70 Гц (не путайте это с FPS). \
## Disclaimer
1. Делайте это на свой страх и риск!
2. Это только для образовательных и исследовательских целей!

## Скриншот - выберите один из вариантов
![image](https://github.com/ryanrudolfoba/SteamDeck-RefreshRateUnlocker/assets/98122529/06b7b897-d349-4bfa-8671-c1bc8a3b0120)

## Скриншот - Частота обновления дисплея 70 Гц
![image](https://user-images.githubusercontent.com/98122529/225729639-3bb46a85-6ffd-49ac-808d-acd518fc30ce.png)

## Скриншот - Простой набор инструментов GUI
![image](https://github.com/ryanrudolfoba/SteamDeck-RefreshRateUnlocker/assets/98122529/890fcb6f-a71f-4156-adb8-aa14b55fca75)
![image](https://github.com/ryanrudolfoba/SteamDeck-RefreshRateUnlocker/assets/98122529/2afc4ac4-6522-4941-bdb7-b210c76ba1b0)

## Что делает этот скрипт?!?
1. Скрипт проверяет, использует ли gamescope-сессия стандартные значения частоты обновления 40,60Hz.
2. Если это значения по умолчанию, скрипт создает резервную копию файла и затем "патчит" в соответствии с тем, что выбрал пользователь.
3. Скрипт создает папку ~/1RefreshRateUnlocker, содержащую дополнительные вспомогательные скрипты. Не удаляйте эту папку!
4. При каждом запуске скрипт проверяет gamescope-сессию на необходимость "патча" и при необходимости применяет патч.
5. Существует скрипт деинсталляции, если конечный пользователь захочет вернуть все сделанные изменения.
6. 
## Необходимые условия для SteamOS
1. Пароль sudo должен быть уже установлен конечным пользователем. Если пароль sudo еще не установлен, скрипт попросит его установить.

## Шаги установки
**ЕСЛИ ВЫ ИСПОЛЬЗУЕТЕ СТАРУЮ ВЕРСИЮ ЭТОГО СКРИПТА, СНАЧАЛА УДАЛИТЕ ЕЕ!**
**Если вы хотите перейти с 30,60 на 40,70 и т.д., обязательно сначала удалите скрипт, а затем запустите его заново!**
1. Перейдите в режим рабочего стола и откройте терминал konsole.
2. Клонируйте репозиторий github. \
   cd ~/ \
   git clone https://github.com/Taskerer/Steam-Deck-70Hz.git
3. Выполните скрипт! \
   cd ~/Steam-Deck-70Hz \
   chmod +x install-RefreshRateUnlocker.sh \
   ./install-RefreshRateUnlocker.sh
   
4. Скрипт проверит, не установлен ли уже пароль sudo.\
![image](https://user-images.githubusercontent.com/98122529/225724178-364284ac-f504-4798-b5e5-a03001dda5da.png)

   a. Если пароль sudo уже установлен, введите текущий пароль sudo, и скрипт продолжит работу. Как только вы увидите это окно, установка будет завершена!\![image](https://user-images.githubusercontent.com/98122529/225747904-d0352779-40ef-4dfb-afad-c473b2a9bc5b.png)
         
   b. Если пароль sudo пуст / еще не установлен, скрипт предложит установить пароль sudo. Запустите скрипт снова, чтобы продолжить.\
![image](https://user-images.githubusercontent.com/98122529/225725477-33f8ffaa-13a1-452e-b993-aceb3192726f.png)


5. Сделайте свой выбор.\
![image](https://github.com/ryanrudolfoba/SteamDeck-RefreshRateUnlocker/assets/98122529/06b7b897-d349-4bfa-8671-c1bc8a3b0120)

6. После завершения установки перезагрузите Steam Deck, чтобы изменения вступили в силу.
         
7. После перезагрузки будет доступна пользовательская частота обновления. Она может быть установлена до 70 Гц!\
![image](https://user-images.githubusercontent.com/98122529/225729592-a172cf55-f34c-400a-be56-e2dc68032c4e.png)

## Как удалить
1. Перейдите в режим рабочего стола и запустите значок RefreshRateUnlocker Toolbox с рабочего стола.
![image](https://github.com/ryanrudolfoba/SteamDeck-RefreshRateUnlocker/assets/98122529/1c1bb2a4-b90b-455e-9efc-269ceeb14273)

2. Выберите опцию "Удалить" и нажмите OK.
![image](https://github.com/ryanrudolfoba/SteamDeck-RefreshRateUnlocker/assets/98122529/f76d934d-2725-49dd-9799-2cb0710ee034)

3. После удаления перезагрузите Steam Deck, чтобы изменения вступили в силу.
         
4. После перезагрузки частота обновления вернется к стандартному значению 60 Гц.\
![image](https://user-images.githubusercontent.com/98122529/225729550-0ac8a2ff-79c3-4bc4-b75f-7a9388f60d74.png)

## Известные проблемы
1. При создании скриншота в игре экран на мгновение становится темным при переключении на 60 Гц, а затем возвращается к пользовательской частоте обновления после завершения скриншота.

